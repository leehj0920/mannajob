<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mannajob.mapper.LoginMapper">
	<!-- API로그인 기존 회원인지 체크 -->	
	<select id="MemCheck" resultType="int">
		SELECT COUNT(m_id) FROM member WHERE m_id = #{m_id} AND m_del = 'N'
	</select>

	<!-- 회원 아이디 찾기 -->
	<select id="findId" resultType="String">
		SELECT m_id FROM member WHERE m_name = #{m_name} AND m_email = #{m_email} and m_api is null

	</select>

	<!-- 비밀번호 재설정 -->
	<select id="myreset" resultType="int">
		SELECT count(m_id) FROM member WHERE m_id = #{m_id} AND m_name = #{m_name} AND m_email = #{m_email}
	</select>

	<update id="pwreset">
		UPDATE member SET m_passwd = #{m_passwd} WHERE m_id = #{m_id}
	</update>
	
</mapper>
